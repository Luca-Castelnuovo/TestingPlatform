# custom error pages
#ErrorDocument 404 /error

# turn mod_rewrite on
RewriteEngine On

#clean url
RewriteRule ^home/([0-9]+)/$ home.php?project=$1
RewriteRule ^home/([0-9]+)$ home.php?project=$1

RewriteRule ^projects/([a-zA-Z]+)/$ projects.php?type=$1
RewriteRule ^projects/([a-zA-Z]+)$ projects.php?type=$1

RewriteRule ^projects/([a-zA-Z]+)/([0-9]+)$ projects.php?type=$1&id=$2
RewriteRule ^projects/([a-zA-Z]+)/([0-9]+)/$ projects.php?type=$1&id=$2
RewriteRule ^register/([a-zA-Z0-9]+)/$ register.php?auth_code=$1
RewriteRule ^register/([a-zA-Z0-9]+)$ register.php?auth_code=$1

# remove .php extensions from files
RewriteCond %{DOCUMENT_ROOT}/$1\.php -f
RewriteRule ^(.+?)/?$ /$1.php [L]
RewriteCond %{REQUEST_FILENAME} !-f [OR]
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ - [L]

# block access to .txt
<Files ~ "\.txt$">
    Order allow,deny
    Deny from all
</Files>

# allow access to robots.txt
<FilesMatch robots\.txt>
    Allow from all
</FilesMatch>